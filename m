Return-Path: <etnaviv-bounces@lists.freedesktop.org>
X-Original-To: lists+etnaviv@lfdr.de
Delivered-To: lists+etnaviv@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7A4AC19A4E
	for <lists+etnaviv@lfdr.de>; Fri, 10 May 2019 11:09:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 96140899BC;
	Fri, 10 May 2019 09:09:44 +0000 (UTC)
X-Original-To: etnaviv@lists.freedesktop.org
Delivered-To: etnaviv@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 65FE889B9F;
 Fri, 10 May 2019 09:09:40 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id s15so6839261wra.12;
 Fri, 10 May 2019 02:09:40 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=5C+TiEJYhHzjNW1x4wZ2bpTqxT+UmwJMS2fPZe6lOko=;
 b=WYzY/YAdQIc0GxXiKOZXEB5kdDdI28NcicrmQDDqVqqq6SB4zWwo+7emwXV4rOinUo
 /624Mz+Rz2d1b2CNGHOv/LbcXS5pThOhwFS11k0pTZzTPejNeJi644kLrUyf1UzJnJYS
 e2gC+31CRiDHXUj0CBFnPHW/yzGA9bJyzu4oIvIDXP68IdW6LIotfNjD1ZS0VypYJT44
 NxbeYxygT7tQk30LCmLxPxheT0Q6g0QruXjYgZ6DA++tTzs/L7MGnSMI6YYEyEs0+wNS
 m5pJllpKd1N1zXtu1ShqZcbxb0GEClsopJnLYD7cZtat1yE5/sCjetacjHB8i5nLlFcq
 V/rA==
X-Gm-Message-State: APjAAAU3sP3OyUHbyYhWPj8y48pqTqvi188muqq0DZ7apyfk5iS3bNhk
 6GEsu/ounz01GfKQNtPjDcwoVu2ajpY=
X-Google-Smtp-Source: APXvYqywGGLrcvuSftEwqrRM6aNSbyWykYA51C35qMNmpI0j78WT1OeWKI6d7JImzr//oJJEch5Hvw==
X-Received: by 2002:adf:fb0d:: with SMTP id c13mr6639760wrr.214.1557479377870; 
 Fri, 10 May 2019 02:09:37 -0700 (PDT)
Received: from localhost.localdomain (80-110-110-254.cgn.dynamic.surfer.at.
 [80.110.110.254])
 by smtp.gmail.com with ESMTPSA id l18sm1645344wrv.38.2019.05.10.02.09.36
 (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
 Fri, 10 May 2019 02:09:37 -0700 (PDT)
From: Christian Gmeiner <christian.gmeiner@gmail.com>
To: mesa-dev@lists.freedesktop.org
Subject: [RFC PATCH 16/17] eir: add optimization 'framework'
Date: Fri, 10 May 2019 11:09:14 +0200
Message-Id: <20190510090915.2739-17-christian.gmeiner@gmail.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190510090915.2739-1-christian.gmeiner@gmail.com>
References: <20190510090915.2739-1-christian.gmeiner@gmail.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=5C+TiEJYhHzjNW1x4wZ2bpTqxT+UmwJMS2fPZe6lOko=;
 b=slTb7/y2KpQcbgmcKXBFNX5KRyCXKOY0tT4gbi0FjarL+PhDI0C4UHxhZeurH5myK0
 Zy/yWVfxUuCT/0FY62F0hrjNSrU1/6yQeB6Tthd37MuC2+aSv+xZLvB60QcSsPPl0JsT
 myPsuDWMGjCvBlsKfzS9ZnUpRXwEhGZHgwAQCzot7w3mweAD5O3T2mj690fvZW/3BIiw
 06W/tn1PBSqlO79nVnyZ7id/eFDhp2H2AHE53fB78IUMc9jdLvGupNm9Mv7VfMJn1Or8
 QICF6WoRzujKzBsKICJemWO3Wnkb346A9mvC4w/HJi5ifNn08l41JoBE+ko2yqKBe0Gb
 k6lA==
X-BeenThere: etnaviv@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <etnaviv.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/etnaviv>,
 <mailto:etnaviv-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/etnaviv>
List-Post: <mailto:etnaviv@lists.freedesktop.org>
List-Help: <mailto:etnaviv-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/etnaviv>,
 <mailto:etnaviv-request@lists.freedesktop.org?subject=subscribe>
Cc: Christian Gmeiner <christian.gmeiner@gmail.com>,
 etnaviv@lists.freedesktop.org, cphealy@gmail.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: etnaviv-bounces@lists.freedesktop.org
Sender: "etnaviv" <etnaviv-bounces@lists.freedesktop.org>

U2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEdtZWluZXIgPGNocmlzdGlhbi5nbWVpbmVyQGdtYWls
LmNvbT4KLS0tCiBzcmMvZXRuYXZpdi9jb21waWxlci9laXIuaCAgICAgICAgICAgICAgfCAgMyAr
Kwogc3JjL2V0bmF2aXYvY29tcGlsZXIvZWlyX2NvbXBpbGVyX25pci5jIHwgIDYgKysrKwogc3Jj
L2V0bmF2aXYvY29tcGlsZXIvZWlyX29wdGltaXplLmMgICAgIHwgNDggKysrKysrKysrKysrKysr
KysrKysrKysrKwogc3JjL2V0bmF2aXYvY29tcGlsZXIvZWlyX29wdGltaXplLmggICAgIHwgMzEg
KysrKysrKysrKysrKysrKwogc3JjL2V0bmF2aXYvY29tcGlsZXIvbWVzb24uYnVpbGQgICAgICAg
IHwgIDEgKwogNSBmaWxlcyBjaGFuZ2VkLCA4OSBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAx
MDA2NDQgc3JjL2V0bmF2aXYvY29tcGlsZXIvZWlyX29wdGltaXplLmMKIGNyZWF0ZSBtb2RlIDEw
MDY0NCBzcmMvZXRuYXZpdi9jb21waWxlci9laXJfb3B0aW1pemUuaAoKZGlmZiAtLWdpdCBhL3Ny
Yy9ldG5hdml2L2NvbXBpbGVyL2Vpci5oIGIvc3JjL2V0bmF2aXYvY29tcGlsZXIvZWlyLmgKaW5k
ZXggMWI2N2VkYWI1NTkuLmY0NmQxMmI4MjJhIDEwMDY0NAotLS0gYS9zcmMvZXRuYXZpdi9jb21w
aWxlci9laXIuaAorKysgYi9zcmMvZXRuYXZpdi9jb21waWxlci9laXIuaApAQCAtMjk0LDYgKzI5
NCw5IEBAIGVpcl9hc3NpZ25fb3V0cHV0KHN0cnVjdCBlaXIgKmlyLCB1bnNpZ25lZCBpZHgsIHVu
c2lnbmVkIHNsb3QsIHVuc2lnbmVkIG5jb21wKQogdm9pZAogZWlyX2xlZ2FsaXplKHN0cnVjdCBl
aXIgKmlyKTsKIAordm9pZAorZWlyX29wdGltaXplKHN0cnVjdCBlaXIgKmlyKTsKKwogdm9pZAog
ZWlyX2NhbGN1bGF0ZV9saXZlX2ludGVydmFscyhzdHJ1Y3QgZWlyICppcik7CiAKZGlmZiAtLWdp
dCBhL3NyYy9ldG5hdml2L2NvbXBpbGVyL2Vpcl9jb21waWxlcl9uaXIuYyBiL3NyYy9ldG5hdml2
L2NvbXBpbGVyL2Vpcl9jb21waWxlcl9uaXIuYwppbmRleCA4NjJmMzQzOTBlMC4uNGRiYmQ1ZThm
MGEgMTAwNjQ0Ci0tLSBhL3NyYy9ldG5hdml2L2NvbXBpbGVyL2Vpcl9jb21waWxlcl9uaXIuYwor
KysgYi9zcmMvZXRuYXZpdi9jb21waWxlci9laXJfY29tcGlsZXJfbmlyLmMKQEAgLTk5MSw2ICs5
OTEsMTIgQEAgZWlyX2NvbXBpbGVfc2hhZGVyX25pcihzdHJ1Y3QgZWlyX2NvbXBpbGVyICpjb21w
aWxlciwKICAgICAgIGVpcl9wcmludChjdHgtPmlyKTsKICAgIH0KIAorICAgZWlyX29wdGltaXpl
KGN0eC0+aXIpOworICAgaWYgKGVpcl9jb21waWxlcl9kZWJ1ZyAmIEVJUl9EQkdfT1BUTVNHUykg
eworICAgICAgcHJpbnRmKCJBRlRFUiBlaXJfb3B0aW1pemU6XG4iKTsKKyAgICAgIGVpcl9wcmlu
dChjdHgtPmlyKTsKKyAgIH0KKwogICAgZWlyX2xlZ2FsaXplKGN0eC0+aXIpOwogICAgaWYgKGVp
cl9jb21waWxlcl9kZWJ1ZyAmIEVJUl9EQkdfT1BUTVNHUykgewogICAgICAgcHJpbnRmKCJBRlRF
UiBsZWdhbGl6YXRpb246XG4iKTsKZGlmZiAtLWdpdCBhL3NyYy9ldG5hdml2L2NvbXBpbGVyL2Vp
cl9vcHRpbWl6ZS5jIGIvc3JjL2V0bmF2aXYvY29tcGlsZXIvZWlyX29wdGltaXplLmMKbmV3IGZp
bGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAuLjZlYWU4ZTljOWVjCi0tLSAvZGV2L251
bGwKKysrIGIvc3JjL2V0bmF2aXYvY29tcGlsZXIvZWlyX29wdGltaXplLmMKQEAgLTAsMCArMSw0
OCBAQAorLyoKKyAqIENvcHlyaWdodCAoYykgMjAxOSBFdG5hdml2IFByb2plY3QKKyAqIENvcHly
aWdodCAoQykgMjAxOSBab2RpYWMgSW5mbGlnaHQgSW5ub3ZhdGlvbnMKKyAqCisgKiBQZXJtaXNz
aW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRh
aW5pbmcgYQorICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50
YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwKKyAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJl
IHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24KKyAqIHRo
ZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRl
LCBzdWIgbGljZW5zZSwKKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFu
ZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVk
IHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBU
aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSAoaW5j
bHVkaW5nIHRoZQorICogbmV4dCBwYXJhZ3JhcGgpIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBj
b3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMKKyAqIG9mIHRoZSBTb2Z0d2FyZS4KKyAqCisg
KiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBB
TlkgS0lORCwgRVhQUkVTUyBPUgorICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRF
RCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCisgKiBGSVRORVNTIEZPUiBB
IFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OLUlORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hB
TEwKKyAqIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5Z
IENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCisgKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNU
SU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORworICogRlJPTSwgT1VU
IE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhF
UgorICogREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgorICoKKyAqIEF1dGhvcnM6CisgKiAgICBD
aHJpc3RpYW4gR21laW5lciA8Y2hyaXN0aWFuLmdtZWluZXJAZ21haWwuY29tPgorICovCisKKyNp
bmNsdWRlICJlaXIuaCIKKyNpbmNsdWRlICJlaXJfb3B0aW1pemUuaCIKKyNpbmNsdWRlIDxzdGRp
by5oPgorCisjZGVmaW5lIE9QVFBBU1MoZnVuYykgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICBkbyB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICAgICAgICBib29sIHN0YWdlX3Byb2dyZXNzID0gZnVuYyhpcik7ICAgICAgICAg
ICAgICBcCisgICAgICAgICBpZiAoc3RhZ2VfcHJvZ3Jlc3MpIHsgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICAgICAgICAgICBpZiAocHJpbnRfb3B0X2RlYnVnKSB7ICAgICAgICAgICAgICAg
ICAgICBcCisgICAgICAgICAgICAgICBmcHJpbnRmKHN0ZGVyciwgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICAgICAgICAgICAgICAgICAgICAgICJFSVIgb3B0IHBhc3MgJXMgcHJvZ3Jlc3Nc
biIsICBcCisgICAgICAgICAgICAgICAgICAgICAgICNmdW5jKTsgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICB9IHdoaWxlICgwKQorCit2b2lkCitlaXJfb3B0aW1pemUoc3RydWN0IGVpciAq
aXIpCit7CisgICBjb25zdCBib29sIHByaW50X29wdF9kZWJ1ZyA9IHRydWU7Cit9CmRpZmYgLS1n
aXQgYS9zcmMvZXRuYXZpdi9jb21waWxlci9laXJfb3B0aW1pemUuaCBiL3NyYy9ldG5hdml2L2Nv
bXBpbGVyL2Vpcl9vcHRpbWl6ZS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAw
MDAwLi5iODQwYTI3M2MyNQotLS0gL2Rldi9udWxsCisrKyBiL3NyYy9ldG5hdml2L2NvbXBpbGVy
L2Vpcl9vcHRpbWl6ZS5oCkBAIC0wLDAgKzEsMzEgQEAKKy8qCisgKiBDb3B5cmlnaHQgKGMpIDIw
MTkgRXRuYXZpdiBQcm9qZWN0CisgKiBDb3B5cmlnaHQgKEMpIDIwMTkgWm9kaWFjIEluZmxpZ2h0
IElubm92YXRpb25zCisgKgorICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBv
ZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKKyAqIGNvcHkgb2YgdGhpcyBzb2Z0
d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiks
CisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRp
bmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5
LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3ViIGxpY2Vuc2UsCisgKiBhbmQvb3Igc2Vs
bCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0
aGUKKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9s
bG93aW5nIGNvbmRpdGlvbnM6CisgKgorICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5k
IHRoaXMgcGVybWlzc2lvbiBub3RpY2UgKGluY2x1ZGluZyB0aGUKKyAqIG5leHQgcGFyYWdyYXBo
KSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25z
CisgKiBvZiB0aGUgU29mdHdhcmUuCisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJB
UyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJ
RUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hB
TlRBQklMSVRZLAorICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTi1J
TkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMCisgKiBUSEUgQVVUSE9SUyBPUiBDT1BZUklH
SFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgorICog
TElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhF
UldJU0UsIEFSSVNJTkcKKyAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhF
IFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIKKyAqIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FS
RS4KKyAqCisgKiBBdXRob3JzOgorICogICAgQ2hyaXN0aWFuIEdtZWluZXIgPGNocmlzdGlhbi5n
bWVpbmVyQGdtYWlsLmNvbT4KKyAqLworCisjaWZuZGVmIEhfRUlSX09QVElNSVpFCisjZGVmaW5l
IEhfRUlSX09QVElNSVpFCisKKyNlbmRpZiAvLyBIX0VJUl9PUFRJTUlaRQpkaWZmIC0tZ2l0IGEv
c3JjL2V0bmF2aXYvY29tcGlsZXIvbWVzb24uYnVpbGQgYi9zcmMvZXRuYXZpdi9jb21waWxlci9t
ZXNvbi5idWlsZAppbmRleCAzNDMxY2I0OGMzNi4uODM0M2U2YjkxYWQgMTAwNjQ0Ci0tLSBhL3Ny
Yy9ldG5hdml2L2NvbXBpbGVyL21lc29uLmJ1aWxkCisrKyBiL3NyYy9ldG5hdml2L2NvbXBpbGVy
L21lc29uLmJ1aWxkCkBAIC0zMSw2ICszMSw3IEBAIGxpYmV0bmF2aXZfY29tcGlsZXJfZmlsZXMg
PSBmaWxlcygKICAgJ2Vpcl9uaXJfbG93ZXJfYWx1X3RvX3NjYWxhci5jJywKICAgJ2Vpcl9uaXIu
YycsCiAgICdlaXJfbmlyLmgnLAorICAnZWlyX29wdGltaXplLmMnLAogICAnZWlyX3ByaW50LmMn
LAogICAnZWlyX3JlZ2lzdGVyX2FsbG9jYXRlLmMnLAogICAnZWlyX3NoYWRlci5jJywKLS0gCjIu
MjEuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZXRu
YXZpdiBtYWlsaW5nIGxpc3QKZXRuYXZpdkBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9ldG5hdml2
